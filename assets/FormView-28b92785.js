import{S as b,c as V}from"./cart-4dfe3576.js";import{_ as x,b as w,r as m,o as p,c as _,d as e,e as o,w as d,F as E,at as n,g as v,H as k}from"./index-e0655bcc.js";const{VITE_URL:T,VITE_PATH:U}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"esther-hexschool",BASE_URL:"/waffle/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},S={data(){return{form:{user:{name:"",tel:"",email:"",payment:"",delivery:"",address:""}}}},methods:{...w(V,["deletAllProducts"]),createOrder(){const c=`${T}/v2/api/${U}/order`,s=this.form;b.fire({title:"確認送出表單",icon:"question",confirmButtonText:"確認",showDenyButton:!0,denyButtonText:"取消"}).then(u=>{u.isConfirmed&&this.$http.post(c,{data:s}).then(f=>{this.deletAllProducts(),this.$router.push("/ordered")}).catch(f=>{this.$refs.form.resetForm()})})}}},A=e("header",{class:"d-flex align-items-center justify-content-center position-relative py-5",style:{top:"56px"}},[e("div",{class:"text-primary m-auto"},[e("h3",{class:"fw-bold text-center"},"訂購資料")])],-1),B={class:"container p-4 my-4 shadow",style:{"max-width":"500px"}},q={class:"mb-3"},P=e("label",{for:"name",class:"form-label"},"姓名",-1),g={class:"mb-3"},C=e("label",{for:"email",class:"form-label"},"電子信箱",-1),I={class:"mb-3"},N=e("label",{for:"tel",class:"form-label"},"電話",-1),R={class:"mb-3"},D=e("label",{for:"payment",class:"form-label"},"支付方式",-1),F=e("option",{value:""},"選擇支付方式",-1),L=e("option",{value:"credit"},"現金",-1),O=e("option",{value:"debit"},"LINE PAY",-1),H=e("option",{value:"paypal"},"信用卡",-1),j={class:"mb-3"},z=e("label",{for:"delivery",class:"form-label"},"配送方式",-1),M=e("option",{value:""},"選擇配送方式",-1),Y=e("option",{value:"pickup"},"自取",-1),G=e("option",{value:"delivery"},"外送",-1),J={key:0,class:"mb-3"},K=e("label",{for:"address",class:"form-label"},"送貨地址",-1),Q=e("button",{type:"submit",class:"btn btn-primary w-100"},"提交",-1);function W(c,s,u,f,l,h){const a=m("v-field"),r=m("error-message"),y=m("v-form");return p(),_(E,null,[A,e("div",B,[o(y,{ref:"form",onSubmit:h.createOrder},{default:d(({errors:i})=>[e("div",q,[P,o(a,{type:"text",class:n(["form-control",{"is-invalid":i.姓名}]),id:"name",name:"姓名",placeholder:"請輸入姓名",rules:"required",modelValue:l.form.user.name,"onUpdate:modelValue":s[0]||(s[0]=t=>l.form.user.name=t)},null,8,["class","modelValue"]),o(r,{name:"姓名",class:"invalid-feedback"})]),e("div",g,[C,o(a,{id:"email",name:"email",type:"email",class:n(["form-control",{"is-invalid":i.email}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:l.form.user.email,"onUpdate:modelValue":s[1]||(s[1]=t=>l.form.user.email=t)},null,8,["class","modelValue"]),o(r,{name:"email",class:"invalid-feedback"})]),e("div",I,[N,o(a,{type:"text",id:"tel",name:"電話",class:n(["form-control",{"is-invalid":i.電話}]),placeholder:"請輸入電話",rules:"required",modelValue:l.form.user.tel,"onUpdate:modelValue":s[2]||(s[2]=t=>l.form.user.tel=t)},null,8,["class","modelValue"]),o(r,{name:"電話",class:"invalid-feedback"})]),e("div",R,[D,o(a,{as:"select",id:"payment",name:"payment",class:n(["form-select",{"is-invalid":i.payment}]),rules:"required",modelValue:l.form.user.payment,"onUpdate:modelValue":s[3]||(s[3]=t=>l.form.user.payment=t)},{default:d(()=>[F,L,O,H]),_:2},1032,["class","modelValue"]),o(r,{name:"payment",class:"invalid-feedback"},{default:d(()=>[v("請選擇支付方式")]),_:1})]),e("div",j,[z,o(a,{as:"select",id:"delivery",name:"delivery",class:n(["form-select",{"is-invalid":i.delivery}]),rules:"required",modelValue:l.form.user.delivery,"onUpdate:modelValue":s[4]||(s[4]=t=>l.form.user.delivery=t)},{default:d(()=>[M,Y,G]),_:2},1032,["class","modelValue"]),o(r,{name:"delivery",class:"invalid-feedback"},{default:d(()=>[v("請選擇配送方式")]),_:1})]),l.form.user.delivery==="delivery"?(p(),_("div",J,[K,o(a,{type:"text",id:"address",name:"address",class:"form-control",placeholder:"請輸入送貨地址",modelValue:l.form.user.address,"onUpdate:modelValue":s[5]||(s[5]=t=>l.form.user.address=t)},null,8,["modelValue"])])):k("",!0),Q]),_:1},8,["onSubmit"])])],64)}const $=x(S,[["render",W]]);export{$ as default};
